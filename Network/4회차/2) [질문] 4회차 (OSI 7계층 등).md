# 24.01.12 나온 질문 공유

1. **네트워크 계층 설명 및 프로토콜**
2. **세션 계층 설명**
3.  **전송계층의 특징 및 프로토콜**
4.  **CORS 에 대해 간단 설명**
5. **굳이 OSI 7 계층으로 각 계층을 나눈 이유**
6.  **전송계층에서 사용되는 프로토콜인 TCP에 대해 간단히 설명**
7. **포트번호가 식별할 수 있는 게 무엇인지(사용자 계층 - 프로세스, 커널 계층 - 서비스 )**
8. **응용 계층에서 사용되는 프로토콜 HTTP에 대해 설명**
9. **대칭키, 비대칭키 차이 설명, 같이 사용하는 이유 - 대칭키 탈취 위험 때문에 공개키로 암호화 한 후에 암호화된 경우** 
10.  **OSI 7 계층을 전체적으로 설명**
11.  **[google.com](http://google.com) URL 입력 시 일어나는 동작 과정 설명** 
12.  **쿠키 vs 세션 차이**

## SSL/TLS 프로토콜은 어디 계층 소속일까 ?

---

**✅ 오늘 스터디에서는 SSL/TLS는 어디 소속 프로토콜인가에 대한 의견이 분분했다.**

- **응용과 전송 사이에 존재한다고만 알면 될 것 같다.**
- HTTPS에서 보안이 추가되어 SSL/TLS 프로토콜이 필요한 것이기 때문에 응용계층과 전송 계층 사이 어디쯤 ‘보안 계층’을 따로 둔다고 되다는 설명은 아래 블로그 글에 나와있다.

https://ddongwon.tistory.com/58

[https://hstory0208.tistory.com/entry/SSL-이란-TLS-이란](https://hstory0208.tistory.com/entry/SSL-%EC%9D%B4%EB%9E%80-TLS-%EC%9D%B4%EB%9E%80)

- 물론 스터디원 분들의 의견도 너무 훌륭했던 게, 어쨋든 암호화이니까 데이터의 형식 변환 및 암호화를 처리하는 표현 계층 소속이지 않을까, 혹은 세션 계층이 TCP/IP 세션에 대한 처리도 함께 하니까, 연결 확립 과정에서 TLS Handshake도 함께 이뤄지지 않을까 하는 조심스러운 추측과 좋은 의견도 있었다. **(실제 이 의견을 듣고 있을 때, 꽤나 타당한 접근이란 생각도 들었다.)**
- 다만, 이게 블로그마다 의견이 다르고, 우리는 아직 배우는 입장이므로 우선은 HTTPS 프로토콜을 사용하는 응용 계층의 데이터에 한해서는 별도의 보안처리를 위해 SSL/TLS 프로토콜을 사용할 것이고 이 프로토콜의 소속이 응용과 전송 사이에 존재할 것이라는 것 정도로만 정리해두기로 통일했다. **스터디원분들을 잘 만난 덕에 좋은 경험이었다 ㅎㅎ**

---

# **OSI 7 계층 & TCP/IP 4계층**

### **✅** OSI 7계층에 대해서 설명하시오

> OSI7 계층은 인터넷 환경에서 통신하기 위해, 네트워킹에 대한 표준을 7계층으로 나눈것입니다.
> 
> 
> 크게 7계층이 있는데요. 물리계층, 데이터링크 계층, 네트워크 계층, 전송계층, 세션계층, 표현계층, 응용계층이 있습니다.
> 
> 계층을 나눈 이유: 통신이 일어나는 과정이 단계별로 파악되어 특정한 곳에 이상이 생겼을 때 그 단계의 에러만 고칠 수 있다. 또한 각 계층에 대한 캡슐화, 은닉의 목표도 있다.
> 
> **네트워크에서 통신이 일어나는 과정**
> 
> 1. 물리 Physical Layer : 통신 케이블로 데이터를 전송만!!! 통신 단위는 비트. 1,0, 전기적 신호로는 on/off 통신케이블의 종류로는 리피터와 허브가 있다.
> 
> 2. 데이터 링크 Data-Link Layer : 정보의 전달을 수행, 맥주소를 가지고 통신(브리지, 스위치), 전송되는 단위는 프레임. 신뢰성 있는 전송을 보장하기 위한 계층으로 CRC기반의 오류제어와 흐름제어가 필요하다. 물리 계층에서 발생할 수 있는 오류를 찾아 내고, 수정하는데 필요한 기능적, 절차적 수단을 제공한다.
> 
> 3. 네트워크 Network Layer : 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅), 프로토콜의 종류도 다양하고, 라우팅하는 기술도 다양하다. ICMP, ARP, IP → 주소부여(IP), 경로설정(Route), 패킷 생성
> 
> 4. 전송 Transport Layer : 사용자들이 신뢰성있는 데이터를 주고 받을 수 있게 해주며, 패킷들의 전송이 유효한 지 확인하고 전송 실패한 패킷들을 다시 전송한다. TCP, UDP → 패킷 전송
> 
> 5. 세션 Session Layer : 데이터가 통신하기 위한 논리적인 연결, 동시송수신방식(duplex), 반이중방식(half-duplex), 전이중방식(full-duplex)의 통신과 함께 체크포인팅과 유휴, 종료, 다시 시작 과정들을 수행, 이계층은 TCP/IP 세션을 만들고 없애는 책임을 진다.
> 
> 6. 표현 Presentation Layer : 데이터 표현이 상이한 응용 프로세스의 독립성을 제공하고 암호화한다.
> 
> 7. 응용 Application Layer : 응용 프로세스와 직접 관여하여 일반적인 응용 서비스를 수행한다.
> 

### **✅** 라우터와 스위치의 차이

> 라우터는, 다양한 네트워크를 연결하는 장치로 IP주소가 사용되고 네트워크 계층에 속합니다.
> 
> 
> 스위치는, 다양한 장치를 동시에 연결하는 장치로 MAC 주소가 사용되고 데이터 링크 계층에 속합니다.
> 
> 라우터는 목적지가 불명확한 데이터가 들어오면 데이터를 폐기하지만,
> 
> 스위치는 브로드캐스팅을 한다는 차이점도 있습니다.
> 

### **✅** 라우터와 게이트웨이 차이

> 라우터는 주로 LAN과 WAN을 연결(layer3)하는데 많이 사용되며,
> 
> 
> **게이트웨이**는 프로토콜이 다른 네트워크를 연결(layer4)할 때 주로 사용합니다.
> 
> 요즘에는 라우터와 게이트웨이 기능이 같이 있는 장비를 많이 사용하는 추세입니다.
> 

### **✅** 게이트웨이

> 이종 프로토콜 및 네트워크 간에 통신을 가능하게 하며 다른 네트워크로 들어가는 문 역할을 하는 네트워크 포인트입니다.
> 

**✅ 데이터 암호화 과정을 OSI 7계층과 연관해 설명해주세요.**

- 데이터의 암호화는 6계층인 표현 계층에서 이루어진다고 알고 있습니다.

---

### **✅** TCP/IP 4계층

> TCP/IP 프로토콜은 '인터넷 기반의 효율적인 데이터 전송'을 위한 프로토콜의 모음입니다.
> 
> 
> 가장 상위부터 '응용계층', '전송계층', '인터넷 계층', '네트워크 액세스 계층' 이렇게 4개의 계층으로 나누어집니다.
> 
> 가장 상위의 '응용계층'은 HTTP, FTP 를 예로 들 수 있고, TCP/UDP기반의 응용프로그램을 구현할 때 사용합니다.
> 
> 바로 그 아래의 '전송계층'은 TCP, UDP를 예로 들수 있고, 통신 노드 간 연결을 제어하고 데이터 전송을 담당합니다.
> 
> 그 아래의 '인터넷 계층'은 통신 노드 간 IP 패킷을 전송하는 것과 라우팅 하는 기능을 담당합니다. 가장 아래의 '네트워크 액세스 계층'은 네트워크의 하드웨어를 제어를 담당합니다.
> 

**✅ TCP/IP 4계층 구성**

1. 네트워크 인터페이스 계층 (Network Interface or Network Access Layer)
    - OSI 1,2계층에 해당. TCP/IP 패킷을 네트워크 매체로 송수신하는 과정을 담당한다.
    - 데이터 단위는 프레임(패킷들의), 전송 주소는 MAC 주소를 참조한다.
    - 물리적인 네트워크 통신을 정의하며, 흐름 제어(Flow Control)는 Header(MAC)에서 수행한다.
    - 에러검출과 패킷의 프레임화 역할을 담당하며, 에러 제어(Error Control)는 Tailer(CRC)에서 수행한다.
2. 인터넷 계층(Internet Layer)
    - OSI 3계층에 해당하며, Addressing, Packaging, Routing 기능을 제공한다.
    - 데이터 단위는 패킷(세그먼트로부터), 전송 주소는 IP 주소를 참조한다.
    - 논리적 주소인 IP를 이용한 노드간 전송과 라우팅 기능을 처리하며, 네트워크상 목적지까지 연결성을 제공한다.
    - 패킷은 Segment를 목적지에 전송하기 위해 시작&목적지의 논리주소를 붙인 단위이다.
    - 핵심 프로토콜은 IP, ARP, ICMP, IGMP 등이 있다.
3. 전송 계층(Transport Layer)
    - OSI 3,4계층에 해당하며, 통신 노드 간의 연결제어 및 자료의 송수신을 담당한다.
    - 데이터 단위는 세그먼트(실질적인 데이터 전송단위), 전송 주소는 Port 를 참조한다.
    - 애플리케이션 계층의 세션과 데이터그램 통신 서비스를 제공한다.
    - TCP, UDP가 핵심 프로토콜이다. TCP, UDP에 대한 구분을 하고 데이터에 대한 제어 정보가 포함된다.
    - Segment(세그먼트)는 전송을 위해 데이터를 일정 크기로 나누며, 발신, 수신, 포트주소, 오류검출코드가 첨부된다.
4. 응용 프로그램 계층(Application Layer)
    - OSI 5,6,7계층에 해당하며, 다른 계층의 서비스에 접근할 수 있는 응용 프로그램 서비스를 제공한다.
    - 데이터 단위는 Data/Message 자체이다.
    - 사용자가 소프트웨어 응용 프로그램을 사용하는 가장 가까운 계층이며, 이 인터페이스를 제공한다.
    - 응용 프로그램 간의 데이터 통신을 위해 사용하는 프로토콜을 정의한다. (HTTP, FTP, SSH, Telnet 등)

**✅ OSI 7계층에 대해서 설명해주세요.** 

**나눈 이유 :계층화를 하게 됨으로써 통신이 일어나는 과정을 단계별로 알수있고, 문제가 생기면 그 단계만 수정하면 됨**

물리 : 데이터를 전기 신호, 광신호로 변경하여 전송 ex) 리피터, 케이블, 허브

데이터링크 : 물리 계층으로 송수신되는 정보 관리, 해당 네트워크 내의 Mac 주소로 통신 ex) 브릿지, 스위치

네트워크 : 데이터를 목적지까지 전달, 라우터로 경로를 선택해 IP 지정,(라우팅) 경로에 따라 패킷 전달(포워딩) ex) IP

전송transport : 받은 데이터를 어떤 프로세스에 줄지 포트번호로, 통신을 활성화 ex) TCP, UDP

세션 : 데이터가 통신하기 위한 응용프로그램 or 네트워크간 연결 담당 ex) X.225, ISO 8327

표현 : 데이터를 컴퓨터가 인식 할수 있도록 데이터 표현 방식을 알려줌(압축화, 암호화)

응용 : 최종 목적지, 응용프로그램과 연관하여 서비스 수행 ex) HTTP, FTP, DNS

**✅ TCP/IP 4계층에 대해서 설명해주세요.** 

TCP/IP 모델은 기존의 4계층 모델과 업데이트된 5계층 모델이 존재한다.

**✅  OSI 7계층과 TCP/IP 4계층에 대해 설명해주세요.**

OSI 7계층은 네트워크에서 통신이 일어나는 과정을 7단계로 나눈것으로 과정을 단계별로 파악할 수 있기 때문에 문제 발생 시 빠르게 해결이 가능합니다. 7계층은 물리 계층(리피터, 허브) -> 데이터 링크계층(MAC, Ethernet) -> 네트워크 계층(IP, ARP) -> 전송 계층(TCP, UDP) -> 세션 계층(NetBIOS, SSH) -> 표현 계층 (JPEG, ASCII)-> 응용 계층(HTTP, FTP, SMTP, POP3, Telnet ...)으로 구성되어 있습니다.

TCP/IP는 TCP/IP 프로토콜 통신 과정에 초점을 두어 OSI 7계층을 단순화 시킨 계층입니다. 4계층은 네트워크 액세스 계층(Ethernet, WIFI) -> 인터넷 계층(IP, ARP) -> 전송 계층(TCP, UDP) -> 응용 계층(HTTP ..)

**✅  TCP/IP에 대해 설명해주세요.**

TCP/IP란 데이터가 의도된 목적지에 닿을 수 있도록 보장해주는 통신 규약을 말합니다. TCP와 IP 두 가지의 프로토콜로 이루어져 있습니다.

클라이언트와 서버는 각각 IP 주소를 가지고 지정한 IP 주소에 패킷을 전송합니다. 그러나 IP 프로토콜에는 몇 가지 한계가 있습니다. 먼저 클라이언트에서는 대상 서버가 패킷을 받을 수 있는 상태인지 확인할 수 없습니다. 따라서 받을 대상이 없거나 서비스가 불가능해도(연결이 되지 않은 상태) 패킷을 전송합니다. 또한, 인터넷 망 내 노드에 문제가 생기는 경우 패킷이 안전하게 도달하지 못하거나 전송 순서가 바뀔 수 있습니다(비신뢰성). 이런 문제를 해결해주는 것이 TCP 프로토콜입니다.

**✅ OSI 7 계층이 무엇인지 간략하게 설명해 주세요.**

OSI (Open Systems Interconnection) 7 계층은 네트워크 통신을 일곱 개의 계층으로 나눈 모델입니다. 각 계층은 특정 기능을 수행하며, 이러한 계층화는 네트워크 프로토콜과 서비스를 효율적으로 설계하고 구현하기 위한 표준화된 방법을 제공합니다. 아래는 간략한 설명입니다:

1. **물리 계층 (Physical Layer):** 데이터 비트를 전기 신호, 빛 또는 기타 물리적 매체를 통해 전송하는 역할을 합니다.
2. **데이터 링크 계층 (Data Link Layer):** 물리적인 링크를 통해 안전한 프레임 전송을 보장하고 오류 검출 및 수정을 수행합니다.
3. **네트워크 계층 (Network Layer):** 패킷을 목적지까지 전달하기 위한 경로 선택 및 라우팅을 담당합니다.
4. **전송 계층 (Transport Layer):** 데이터를 신뢰성 있게 전송하기 위한 프로세스 간 통신을 관리하며, 오류 복구와 흐름 제어를 수행합니다.
5. **세션 계층 (Session Layer):** 데이터 교환의 시작, 유지, 종료를 관리하여 세션 간의 통신을 활성화 및 관리합니다.
6. **표현 계층 (Presentation Layer):** 데이터의 형식 변환, 암호화, 압축 등의 기능을 수행하여 서로 다른 데이터 형식 간의 상호 운용성을 제공합니다.
7. **응용 계층 (Application Layer):** 최종 사용자와 상호 작용하며, 네트워크 서비스에 접근하기 위한 인터페이스를 제공합니다.

이러한 계층 구조는 통신 프로토콜과 서비스를 논리적으로 나누어 표준화하고, 각 계층의 변경이 다른 계층에 미치는 영향을 최소화하여 유지보수와 개발을 용이하게 합니다.

**✅OSI 7 계층이 생긴 이유는 무엇인가요?**

- 표준화하여 일관된 방식으로 네트워크 통신
- 상호 운용성 향상
- 계층화로 인한 유지보수 용이
- 개방성과 확장성 용이

**✅ OSI 7 계층에서 전송 계층의 역할은 무엇이고 프로토콜에는 어떤 것들이 있나요?**

→ TCP, UDP 프로토콜 사용

역할 : 데이터를 신뢰성 있게 전송하기 위한 프로세스 간 통신을 관리하며, 오류 복구와 흐름 제어를 수행합니다.

**✅ OSI 7 계층에서 응용 계층의 역할은 무엇이고 프로토콜에는 어떤 것들이 있나요?**

역할 : 최종 사용자와 직접 상호작용하는 계층으로, 네트워크 서비스를 최종 사용자에게 제공하기 위한 인터페이스를 제공

→ HTTP, SMTP, FTP 등의 프로토콜 사용

1. **HTTP (Hypertext Transfer Protocol):** 웹 브라우저와 웹 서버 간의 통신을 위한 프로토콜로, 웹 페이지의 전송에 사용됩니다.
2. **HTTPS (Hypertext Transfer Protocol Secure):** HTTP의 보안 버전으로, SSL 또는 TLS를 사용하여 암호화된 통신을 지원합니다.
3. **FTP (File Transfer Protocol):** 파일 전송을 위한 프로토콜로, 클라이언트와 서버 간의 파일 전송에 사용됩니다.
4. **SMTP (Simple Mail Transfer Protocol):** 전자 메일을 보내기 위한 프로토콜로, 이메일 서버 간의 통신에 사용됩니다.
5. **POP3 (Post Office Protocol version 3):** 이메일 수신을 위한 프로토콜로, 이메일 클라이언트가 서버에서 이메일을 가져오는 데 사용됩니다.
6. **IMAP (Internet Message Access Protocol):** 이메일 수신 및 관리를 위한 프로토콜로, 이메일 서버에 저장된 이메일에 접근하는 데 사용됩니다.
7. **DNS (Domain Name System):** 도메인 이름을 IP 주소로 변환하거나 반대로 IP 주소를 도메인 이름으로 변환하는 데 사용되는 프로토콜입니다.
8. **SNMP (Simple Network Management Protocol):** 네트워크 장치 및 서버의 상태를 관리하기 위한 프로토콜로, 네트워크 관리 시스템과 통신합니다.

**✅ OSI 7 계층 중에 라우터가 있어서 경로에 따라 패킷을 전달해 주는 계층은 어디이고, 그 계층의 대표적인 프로토콜은 무엇인지 말씀해 주세요.**

- 라우터는 OSI 7계층 중 3번째 계층인 ‘네트워크 계층’에 위치합니다.
- 네트워크 계층은 패킷을 목적지까지 전달하는 역할을 담당합니다.
- 이 계층에서는 경로 선택, 라우팅, 패킷의 중계 등의 역할이 이루어집니다.
- 네트워크 계층의 대표 프로토콜은 IP 프로토콜 입니다.
- IP 프로토콜은 전 세계적으로 네트워크 기기 간에 데이터를 라우팅하는 데 사용 되고, IP 주소를 통해 각 기기는 식별됩니다.

**✅ OSI 7계층이 필요한 이유** 

**OSI 7계층**은 네트워크 사이의 원활한 통신을 위해 필요한 것들을 계층별로 나눠놓은 개념 모델로서 국제 표준입니다. 계층이라는 표현보다는 단계라고 하는 것이 이해하기엔 더 쉬울 것 같습니다. 이런 걸 굳이 왜 만들어서 사람을 피곤하게 하느냐 하는 생각이 들 수도 있는데 어느 계층에서 문제가 발생하는 지 파악하기가 쉬울 뿐 아니라 서로 다른 하드웨어, 소프트웨어를 사용하는 시스템 사이에서 원활하게 통신이 이루어지도록 하기 위함이라고 합니다. 또 개발자, 관리자 입장에서도 네트워크 통신을 보다 효율적으로 활용할 수 있게 된다고 하네요.

---

# **CORS**

**✅  CORS에 대해서 설명해주세요.**

서로 다른 도메인간에 자원을 공유하는 것을 뜻합니다. 대부분 브라우저에서는 SOP 정책을 준수하기 때문에 때문에 이를 기본적으로 차단합니다.

자바에서는 @OriginCross 또는 WebMVcconfigurer 을 상속받아 해결할 수 있습니다.

CORS ERROR가 왜 발생하는가?

SOP(Same-Origin Policy) 정책을 지키지 않았기 때문이다.

SOP: 같은 출처(도메인, 프로토콜 등)의 리소스만 공유할 수 있다는 동일 출처 정책

**✅ SOP 가 존재하는 이유를 설명해주세요**

SOP 란 같은 출처의 리소스를 공유할 수 있다는 규칙으로 보안의 취약점을 통해 정보를 탈취할 수 있기 때문에 이를 방지하기 위해 존재합니다 CORS 는 이를 우회하기 위한 여러 방법 중 가장 권장되는 방법입니다

**✅ CORS란 무엇이고 목적은 어떻게 되는지 설명해주세요**

- 웹 브라우저에서 실행되는 스크립트가 다른 출처(Origin)의 자원에 접근하는 것을 허용하는 방식을 말합니다.
- 기본적으로 웹 브라우저는 보안상의 이유로 자신과 같은 출처의 리소스만 접근이 가능하도록 되어 있습니다. (프로토콜,호스트,포트) 하지만 다른 출처의 리소스에 대한 접근이 필요한 경우가 생기기도 하는데 CORS를 사용하여 다른 출처의 리소스에 접근할 수 있도록 웹 브라우저에게 허용할 출처를 명시해줍니다.
- 보안상의 이유로 인해 웹 브라우저에서 실행되는 스크립트가 악의적인 출처에서 가져온 리소스를 사용하지 못하도록 하고, 안전하게 리소스를 공유할 수 있는 방법을 제공하는 것입니다
- 서버 측에서는 원하는 출처에서만 요청을 받아들이고, 그 외의 출처에서는 요청을 거부하여 보안성을 유지할 수 있습니다

**✅ CSRF와 XSS 뜻을 말하고 차이점을 설명해주세요.**

- XSS 는 공격자가 악의적인 스크립트를 이용하여 사용자의 민감한 정보를 탈취하는 것
- CSRF 는 공격자가 (사용자의 동의없이) 브라우저로 하여금 서버에 어떤 요청을 보내도록 한다.
- XSS: 클라이언트에서 발생/ CSRF: 서버에서 발생

**✅ XSS 에는 어떤 종류가 있나요?**

- 크로스 사이트 스크립팅에는 Reflected 와 Store로 나뉘는데,
- Reflected는 스크립트를 URL에 포함하여 악의적인 공격을 수행하는 기법
- Store는 악의적인 스크립트 포함한 게시글 포스팅하여 사용자가 접근할 경우 악의적 공격 수행하는 기법